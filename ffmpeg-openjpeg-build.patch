diff -ruN ffmpeg-3.1.orig/configure ffmpeg-3.1/configure
--- ffmpeg-3.1.orig/configure	2016-06-27 01:54:28.000000000 +0200
+++ ffmpeg-3.1/configure	2016-10-08 02:45:26.023232577 +0200
@@ -5669,7 +5669,7 @@
                                  require opencv opencv2/core/core_c.h cvCreateImageHeader -lopencv_core -lopencv_imgproc; } ||
                                require_pkg_config opencv opencv/cxcore.h cvCreateImageHeader; }
 enabled libopenh264       && require_pkg_config openh264 wels/codec_api.h WelsGetCodecVersion
-enabled libopenjpeg       && { check_lib openjpeg-2.1/openjpeg.h opj_version -lopenjp2 -DOPJ_STATIC ||
+enabled libopenjpeg       && { check_lib openjpeg-2.1/openjpeg.h opj_version -lopenjp2 ||
                                check_lib openjpeg-2.0/openjpeg.h opj_version -lopenjp2 -DOPJ_STATIC ||
                                check_lib openjpeg-1.5/openjpeg.h opj_version -lopenjpeg -DOPJ_STATIC ||
                                check_lib openjpeg.h opj_version -lopenjpeg -DOPJ_STATIC ||
diff -ruN ffmpeg-3.1.orig/libavcodec/libopenjpegdec.c ffmpeg-3.1/libavcodec/libopenjpegdec.c
--- ffmpeg-3.1.orig/libavcodec/libopenjpegdec.c	2016-06-27 01:54:29.000000000 +0200
+++ ffmpeg-3.1/libavcodec/libopenjpegdec.c	2016-10-08 02:45:39.532177348 +0200
@@ -24,8 +24,6 @@
  * JPEG 2000 decoder using libopenjpeg
  */
 
-#define  OPJ_STATIC
-
 #include "libavutil/common.h"
 #include "libavutil/imgutils.h"
 #include "libavutil/intreadwrite.h"
diff -ruN ffmpeg-3.1.orig/libavcodec/libopenjpegenc.c ffmpeg-3.1/libavcodec/libopenjpegenc.c
--- ffmpeg-3.1.orig/libavcodec/libopenjpegenc.c	2016-06-27 01:54:29.000000000 +0200
+++ ffmpeg-3.1/libavcodec/libopenjpegenc.c	2016-10-08 02:45:52.390124879 +0200
@@ -24,8 +24,6 @@
  * JPEG 2000 encoder using libopenjpeg
  */
 
-#define  OPJ_STATIC
-
 #include "libavutil/avassert.h"
 #include "libavutil/common.h"
 #include "libavutil/imgutils.h"
