diff -Naur ffmpeg-0.4.9-pre1.orig/libavcodec/ac3enc.c ffmpeg-0.4.9-pre1/libavcodec/ac3enc.c
--- ffmpeg-0.4.9-pre1.orig/libavcodec/ac3enc.c	2004-02-18 20:15:19.000000000 +0100
+++ ffmpeg-0.4.9-pre1/libavcodec/ac3enc.c	2005-05-04 19:59:42.000000000 +0200
@@ -25,6 +25,7 @@
 //#define DEBUG_BITALLOC
 #include "avcodec.h"
 
+#include "ac3tab.h"
 #include "ac3.h"
 
 typedef struct AC3EncodeContext {
@@ -57,8 +58,6 @@
     int mant1_cnt, mant2_cnt, mant4_cnt;
 } AC3EncodeContext;
 
-#include "ac3tab.h"
-
 #define MDCT_NBITS 9
 #define N         (1 << MDCT_NBITS)
 
diff -Naur ffmpeg-0.4.9-pre1.orig/libavcodec/avcodec.h ffmpeg-0.4.9-pre1/libavcodec/avcodec.h
--- ffmpeg-0.4.9-pre1.orig/libavcodec/avcodec.h	2004-07-09 14:49:55.000000000 +0200
+++ ffmpeg-0.4.9-pre1/libavcodec/avcodec.h	2005-05-04 19:58:16.000000000 +0200
@@ -1657,6 +1657,13 @@
 #define FF_OPT_MAX_DEPTH 10
 } AVOption;
 
+#ifdef HAVE_MMX
+extern const struct AVOption avoptions_common[3 + 5];
+#else
+extern const struct AVOption avoptions_common[3];
+#endif
+extern const struct AVOption avoptions_workaround_bug[11];
+
 /**
  * Parse option(s) and sets fields in passed structure
  * @param strct	structure where the parsed results will be written
diff -Naur ffmpeg-0.4.9-pre1.orig/libavcodec/common.h ffmpeg-0.4.9-pre1/libavcodec/common.h
--- ffmpeg-0.4.9-pre1.orig/libavcodec/common.h	2004-07-01 14:33:07.000000000 +0200
+++ ffmpeg-0.4.9-pre1/libavcodec/common.h	2005-05-04 19:58:16.000000000 +0200
@@ -62,14 +62,6 @@
 #define AVOPTION_SUB(ptr) { .name = NULL, .help = (const char*)ptr }
 #define AVOPTION_END() AVOPTION_SUB(NULL)
 
-struct AVOption;
-#ifdef HAVE_MMX
-extern const struct AVOption avoptions_common[3 + 5];
-#else
-extern const struct AVOption avoptions_common[3];
-#endif
-extern const struct AVOption avoptions_workaround_bug[11];
-
 #endif /* HAVE_AV_CONFIG_H */
 
 /* Suppress restrict if it was not defined in config.h.  */
